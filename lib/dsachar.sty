%!TEX root = ../example.tex
%!TEX spellcheck = de
% dsachar.sty
% Copyright (C) 2017 by David Pfahler

\usepackage[table]{xcolor}

\newcommand{\puttotopleft}[1]{%
  \tikz[remember picture, overlay] \node [inner sep=0pt, anchor=north east]  at (current page.north east) {#1};
}

\newtcolorbox{dsachar}[1][]{
  blankest,
  breakable,
  sidebyside,
  righthand width=3cm,
  left=5mm,
  right=5mm,
  top=5mm,
  bottom=5mm,
  arc=0mm,
  watermark graphics={\commenthigh},
  watermark stretch=1,
  coltext=commentboxcolor,
  #1
}


%
% Macros for use within the dsachar environment
%
\newkeycommand\mainstats[%
    MU=,KL=,IN=,CH=,FF=,GE=,KO=,KK=]{%
\begin{dsatable}[tabularx={Y|Y},colframe=commentboxcolor, coltext=commentboxcolor]
   MU&\commandkey{MU}\\
  \hline
  KL&\commandkey{KL}\\
  \hline
  IN&\commandkey{IN}\\
  \hline
  CH&\commandkey{CH}\\
  \hline
  FF&\commandkey{FF}\\
  \hline
  GE&\commandkey{GE}\\
  \hline
  KO&\commandkey{KO}\\
  \hline
  KK&\commandkey{KK}\\
\end{dsatable}
}

\newkeycommand\calcstats[%
    LEP=,ASP=,KAP=,GS=,INI=,SK=,ZK=,AW=,SCHIPS=,RS=,BE=]{%
\begin{dsatable}[tabularx={Y|Y},colframe=commentboxcolor, coltext=commentboxcolor]
\ifcommandkey{LeP}%
      {LeP & \commandkey{LEP}\\ \hline}{}%
\ifcommandkey{AsP}%
      {AsP & \commandkey{ASP}\\ \hline}{}%
\ifcommandkey{KaP}%
      {KaP & \commandkey{KAP}\\ \hline}{}%
\ifcommandkey{GS}%
      {GS & \commandkey{GS}\\ \hline}{}%
\ifcommandkey{INI}%
      {INI & \commandkey{INI}\\ \hline}{}%
\ifcommandkey{SK}%
      {SK & \commandkey{SK}\\ \hline}{}%
\ifcommandkey{ZK}%
      {ZK & \commandkey{ZK}\\ \hline}{}%
\ifcommandkey{AW}%
      {AW & \commandkey{AW}\\ \hline}{}%
\ifcommandkey{Schips}%
      {Schips & \commandkey{SCHIPS}\\ \hline}{}%
\ifcommandkey{RS}%
      {RS \ifcommandkey{BE}{/ BE}& \commandkey{RS} \ifcommandkey{BE}{/ \commandkey{BE}}\\}{}%
\end{dsatable}
}
